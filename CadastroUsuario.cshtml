<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cadastro de Cliente - Life Events</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        :root {
            --primary-red: #B22222;
            --primary-green: #228B22;
            --gold: #DAA520;
            --snow: #FFFAFA;
        }

        body {
            background: linear-gradient(135deg, #f9f9f9 0%, #e6f2e6 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            position: relative;
            min-height: 100vh;
        }

        .container {
            position: relative;
            z-index: 1;
        }

        .card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            background-color: var(--snow);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            background: linear-gradient(45deg, var(--primary-red), var(--primary-green));
            color: white;
            border-bottom: none;
            padding: 1.5rem;
        }

        .header-title {
            position: relative;
            display: inline-block;
        }

            .header-title::after {
                content: "🎄";
                position: absolute;
                right: -40px;
                top: 0;
                font-size: 1.5rem;
            }

            .header-title::before {
                content: "🎅";
                position: absolute;
                left: -40px;
                top: 0;
                font-size: 1.5rem;
            }

        .text-primary {
            color: var(--primary-green) !important;
        }

        .btn-primary {
            background-color: var(--primary-red);
            border-color: var(--primary-red);
            font-weight: 600;
        }

            .btn-primary:hover {
                background-color: #9a1c1c;
                border-color: #9a1c1c;
            }

        .btn-outline-secondary {
            border-color: var(--primary-green);
            color: var(--primary-green);
        }

            .btn-outline-secondary:hover {
                background-color: var(--primary-green);
                color: white;
            }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-green);
            box-shadow: 0 0 0 0.25rem rgba(34, 139, 34, 0.25);
        }

        .validation-info {
            font-size: 0.8rem;
            color: #6c757d;
        }

        .password-strength {
            height: 5px;
            width: 0%;
            transition: width 0.3s, background-color 0.3s;
            border-radius: 5px;
            margin-top: 5px;
        }

        .strength-weak {
            background-color: #dc3545;
            width: 25%;
        }

        .strength-medium {
            background-color: #ffc107;
            width: 50%;
        }

        .strength-strong {
            background-color: #28a745;
            width: 100%;
        }

        .christmas-decoration {
            position: absolute;
            font-size: 1.5rem;
            z-index: 0;
            opacity: 0.7;
        }

        .decoration-1 {
            top: 10%;
            left: 5%;
        }

        .decoration-2 {
            top: 15%;
            right: 5%;
        }

        .decoration-3 {
            bottom: 10%;
            left: 10%;
        }

        .decoration-4 {
            bottom: 15%;
            right: 10%;
        }

        .border-primary {
            border-color: var(--primary-green) !important;
        }

        .holly-border {
            position: relative;
        }

            .holly-border::before {
                content: "❦";
                position: absolute;
                left: -15px;
                top: 50%;
                transform: translateY(-50%);
                color: var(--primary-green);
                font-size: 1.2rem;
            }

            .holly-border::after {
                content: "❦";
                position: absolute;
                right: -15px;
                top: 50%;
                transform: translateY(-50%);
                color: var(--primary-green);
                font-size: 1.2rem;
            }
    </style>
</head>
<body>


    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-8">
                <!-- Cabeçalho -->
                <div class="text-center mb-4">
                    <h1 class="text-primary display-6 fw-bold">SISTEMA LIFE EVENTS</h1>
                    <h2 class="text-dark mt-3 holly-border">CADASTRO DE CLIENTE</h2>
                    <p class="text-muted">Todos os campos marcados com <span class="text-danger">*</span> são obrigatórios</p>
                </div>

                <div class="card shadow-lg">
                    <div class="card-body p-4">
                        <form id="formCadastro">
                            <!-- Dados Pessoais -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-primary border-bottom pb-2">Dados Pessoais</h5>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="nome" class="form-label">Nome Completo: <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="nome" placeholder="Digite seu nome completo" required />
                                    <div class="validation-info">Apenas letras e espaços. Mínimo de 3 letras no nome e sobrenome.</div>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label">E-mail: <span class="text-danger">*</span></label>
                                    <input type="email" class="form-control" id="email" placeholder="seu@email.com" required />
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="telefone" class="form-label">Telefone: <span class="text-danger">*</span></label>
                                    <input type="tel" class="form-control" id="telefone" placeholder="(00) 00000-0000" required />
                                    <div class="validation-info">Mínimo 10 dígitos (com DDD).</div>
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="cpf" class="form-label">CPF: <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="cpf" placeholder="000.000.000-00" required />
                                    <div class="validation-info">11 dígitos obrigatórios.</div>
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="dataNascimento" class="form-label">Data Nasc.: <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="dataNascimento" required />
                                    <div class="validation-info">Entre 1916 e 2017.</div>
                                </div>
                            </div>

                            <!-- Endereço -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-primary border-bottom pb-2">Endereço</h5>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="cep" class="form-label">CEP: <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="cep" placeholder="00000-000" required />
                                        <button type="button" class="btn btn-outline-secondary" onclick="buscarCEP()" id="btnBuscarCEP">
                                            Buscar
                                        </button>
                                    </div>
                                    <div class="validation-info">Digite o CEP e clique em buscar para preencher automaticamente</div>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="logradouro" class="form-label">Logradouro: <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="logradouro" placeholder="Rua, Avenida, etc." required />
                                </div>

                                <div class="col-md-4 mb-3">
                                    <label for="numero" class="form-label">Número: <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="numero" placeholder="Nº" required />
                                </div>

                                <div class="col-md-8 mb-3">
                                    <label for="complemento" class="form-label">Complemento:</label>
                                    <input type="text" class="form-control" id="complemento" placeholder="Apto, Bloco, etc." />
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="cidade" class="form-label">Cidade: <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="cidade" placeholder="Sua cidade" required />
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="estado" class="form-label">Estado: <span class="text-danger">*</span></label>
                                    <select class="form-select" id="estado" required>
                                        <option value="" selected disabled>Selecione</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Informações do Evento -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-primary border-bottom pb-2">Informações do Evento <span class="text-danger">*</span></h5>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="tipoEvento" class="form-label">Tipo de Evento: <span class="text-danger">*</span></label>
                                    <select class="form-select" id="tipoEvento" required>
                                        <option value="" selected disabled>Selecione o tipo</option>
                                        <option value="Casamento">Casamento</option>
                                        <option value="Aniversario">Aniversário</option>
                                        <option value="Corporativo">Evento Corporativo</option>
                                        <option value="Formatura">Formatura</option>
                                        <option value="Conferencia">Conferência</option>
                                        <option value="Show">Show</option>
                                        <option value="Festival">Festival</option>
                                        <option value="Outro">Outro</option>
                                    </select>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="dataPrevista" class="form-label">Data Prevista: <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="dataPrevista" required />
                                    <div class="validation-info">Data deve ser futura.</div>
                                </div>

                                <div class="col-12 mb-3">
                                    <label for="observacoes" class="form-label">Observações:</label>
                                    <textarea class="form-control" id="observacoes" rows="3" placeholder="Alguma observação importante sobre o evento..."></textarea>
                                </div>
                            </div>

                            <!-- Segurança -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5 class="text-primary border-bottom pb-2">Segurança</h5>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="senha" class="form-label">Senha: <span class="text-danger">*</span></label>
                                    <input type="password" class="form-control" id="senha" placeholder="Crie uma senha segura" required />
                                    <div class="validation-info">Mínimo 8 caracteres, incluindo letra maiúscula, minúscula, número e caractere especial.</div>
                                    <div id="passwordStrength" class="password-strength"></div>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label for="confirmarSenha" class="form-label">Confirmar Senha: <span class="text-danger">*</span></label>
                                    <input type="password" class="form-control" id="confirmarSenha" placeholder="Digite a senha novamente" required />
                                </div>
                            </div>

                            <hr class="my-4">

                            <!-- Botões -->
                            <div class="d-flex gap-3 mb-4">
                                <button type="button" class="btn btn-outline-secondary flex-grow-1" onclick="window.history.back()">CANCELAR</button>
                                <button type="button" class="btn btn-primary flex-grow-1" onclick="validarFormulario()">CADASTRAR</button>
                            </div>

                            <!-- Termos -->
                            <div class="text-center">
                                <small class="text-muted">
                                    <a href="/Home/Privacy" class="text-decoration-none">Política de Privacidade</a> |
                                    <a href="/Home/Privacy" class="text-decoration-none">Termos de Uso</a>
                                </small>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="text-center mt-4">
                    <p class="text-muted">
                        Já tem uma conta?
                        <a href="/Home/Login" class="text-decoration-none">Fazer Login</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Função para validar nome (apenas letras e espaços, mínimo 3 letras no nome e sobrenome)
        function validarNome(input) {
            // Remove números e caracteres especiais, mantém apenas letras, espaços e acentos
            input.value = input.value.replace(/[^a-zA-ZÀ-ÿ\s]/g, '');

            // Remove múltiplos espaços consecutivos
            input.value = input.value.replace(/\s+/g, ' ');

            // Capitaliza a primeira letra de cada palavra
            input.value = input.value.replace(/(^\w|\s\w)/g, function(letra) {
                return letra.toUpperCase();
            });

            // Valida se tem pelo menos 3 letras no nome e sobrenome
            const partesNome = input.value.trim().split(/\s+/);
            if (partesNome.length >= 2) {
                const nomeValido = partesNome.every(parte => parte.length >= 3);
                if (!nomeValido) {
                    input.classList.add('is-invalid');
                    return false;
                }
            }

            return true;
        }

        // Função para buscar CEP via API
        async function buscarCEP() {
            const cep = document.getElementById('cep').value.replace(/\D/g, '');
            const btnBuscarCEP = document.getElementById('btnBuscarCEP');

            if (cep.length !== 8) {
                alert('Por favor, digite um CEP válido com 8 dígitos.');
                return;
            }

            // Mostrar loading
            btnBuscarCEP.innerHTML = '<span class="spinner-border spinner-border-sm" role="status"></span> Buscando...';
            btnBuscarCEP.disabled = true;

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();

                if (data.erro) {
                    alert('CEP não encontrado. Por favor, verifique o CEP digitado.');
                    return;
                }

                // Preencher os campos automaticamente
                document.getElementById('logradouro').value = data.logradouro || '';
                document.getElementById('cidade').value = data.localidade || '';
                document.getElementById('estado').value = data.uf || '';

                // Focar no campo número após preencher
                document.getElementById('numero').focus();

                // Adicionar classes de validação
                document.getElementById('logradouro').classList.add('is-valid');
                document.getElementById('cidade').classList.add('is-valid');
                document.getElementById('estado').classList.add('is-valid');

            } catch (error) {
                console.error('Erro ao buscar CEP:', error);
                alert('Erro ao buscar CEP. Tente novamente.');
            } finally {
                // Restaurar botão
                btnBuscarCEP.innerHTML = 'Buscar';
                btnBuscarCEP.disabled = false;
            }
        }

        // Função para validar força da senha
        function validarForcaSenha(senha) {
            const strengthBar = document.getElementById('passwordStrength');

            // Reset da barra
            strengthBar.className = 'password-strength';

            if (senha.length === 0) {
                return;
            }

            let strength = 0;

            // Verifica comprimento
            if (senha.length >= 8) strength++;

            // Verifica se tem letra minúscula
            if (/[a-z]/.test(senha)) strength++;

            // Verifica se tem letra maiúscula
            if (/[A-Z]/.test(senha)) strength++;

            // Verifica se tem número
            if (/[0-9]/.test(senha)) strength++;

            // Verifica se tem caractere especial
            if (/[^A-Za-z0-9]/.test(senha)) strength++;

            // Aplica a classe baseada na força
            if (strength <= 2) {
                strengthBar.classList.add('strength-weak');
            } else if (strength <= 4) {
                strengthBar.classList.add('strength-medium');
            } else {
                strengthBar.classList.add('strength-strong');
            }
        }

        // Função para validar se a senha atende aos requisitos
        function validarRequisitosSenha(senha) {
            const temMinuscula = /[a-z]/.test(senha);
            const temMaiuscula = /[A-Z]/.test(senha);
            const temNumero = /[0-9]/.test(senha);
            const temEspecial = /[^A-Za-z0-9]/.test(senha);
            const temComprimento = senha.length >= 8;

            return temMinuscula && temMaiuscula && temNumero && temEspecial && temComprimento;
        }

        // Máscaras para os campos
        function aplicarMascaras() {
            // Máscara para telefone
            const telefone = document.getElementById('telefone');
            telefone.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length <= 11) {
                    if (value.length <= 2) {
                        value = value.replace(/(\d{0,2})/, '($1');
                    } else if (value.length <= 7) {
                        value = value.replace(/(\d{2})(\d{0,5})/, '($1) $2');
                    } else {
                        value = value.replace(/(\d{2})(\d{5})(\d{0,4})/, '($1) $2-$3');
                    }
                    e.target.value = value;
                }
            });

            // Máscara para CPF
            const cpf = document.getElementById('cpf');
            cpf.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length <= 11) {
                    value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
                    e.target.value = value;
                }
            });

            // Máscara para CEP
            const cep = document.getElementById('cep');
            cep.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length <= 8) {
                    value = value.replace(/(\d{5})(\d{0,3})/, '$1-$2');
                    e.target.value = value;
                }

                // Buscar automaticamente quando CEP estiver completo
                if (value.length === 8) {
                    buscarCEP();
                }
            });

            // Validar nome em tempo real
            const nome = document.getElementById('nome');
            nome.addEventListener('input', function(e) {
                validarNome(this);
            });

            // Validar senha em tempo real
            const senha = document.getElementById('senha');
            senha.addEventListener('input', function() {
                validarForcaSenha(this.value);
            });

            // Prevenir colagem de conteúdo inválido no nome
            nome.addEventListener('paste', function(e) {
                e.preventDefault();
                const pastedText = (e.clipboardData || window.clipboardData).getData('text');
                this.value = pastedText.replace(/[^a-zA-ZÀ-ÿ\s]/g, '');
                validarNome(this);
            });
        }

        function validarFormulario() {
            // Validar campos obrigatórios
            const camposObrigatorios = [
                'nome', 'email', 'telefone', 'cpf', 'dataNascimento',
                'logradouro', 'numero', 'cep', 'cidade', 'estado',
                'tipoEvento', 'dataPrevista', 'senha', 'confirmarSenha'
            ];

            let formularioValido = true;
            let primeiroCampoInvalido = null;

            camposObrigatorios.forEach(campoId => {
                const campo = document.getElementById(campoId);
                if (!campo.value.trim()) {
                    campo.classList.add('is-invalid');
                    formularioValido = false;
                    if (!primeiroCampoInvalido) {
                        primeiroCampoInvalido = campo;
                    }
                } else {
                    campo.classList.remove('is-invalid');
                    campo.classList.add('is-valid');
                }
            });

            // Validar nome (mínimo 3 letras no nome e sobrenome)
            const nome = document.getElementById('nome').value.trim();
            const partesNome = nome.split(/\s+/);
            if (partesNome.length < 2 || !partesNome.every(parte => parte.length >= 3)) {
                document.getElementById('nome').classList.add('is-invalid');
                alert("O nome deve conter pelo menos nome e sobrenome, cada um com no mínimo 3 letras.");
                return;
            }

            // Validar senhas
            const senha = document.getElementById("senha").value;
            const confirmarSenha = document.getElementById("confirmarSenha").value;

            if (senha !== confirmarSenha) {
                document.getElementById('confirmarSenha').classList.add('is-invalid');
                alert("As senhas não coincidem. Por favor, verifique e tente novamente.");
                return;
            }

            // Validar requisitos da senha
            if (!validarRequisitosSenha(senha)) {
                document.getElementById('senha').classList.add('is-invalid');
                alert("A senha deve ter no mínimo 8 caracteres, incluindo letra maiúscula, minúscula, número e caractere especial.");
                return;
            }

            // Validar telefone (mínimo 10 dígitos)
            const telefone = document.getElementById('telefone').value.replace(/\D/g, '');
            if (telefone.length < 10) {
                document.getElementById('telefone').classList.add('is-invalid');
                alert("Por favor, insira um telefone válido com DDD (mínimo 10 dígitos).");
                return;
            }

            // Validar CPF (11 dígitos)
            const cpf = document.getElementById('cpf').value.replace(/\D/g, '');
            if (cpf.length !== 11) {
                document.getElementById('cpf').classList.add('is-invalid');
                alert("Por favor, insira um CPF válido com 11 dígitos.");
                return;
            }

            // Validar CEP (8 dígitos)
            const cepVal = document.getElementById('cep').value.replace(/\D/g, '');
            if (cepVal.length !== 8) {
                document.getElementById('cep').classList.add('is-invalid');
                alert("Por favor, insira um CEP válido com 8 dígitos.");
                return;
            }

            // Validar data de nascimento (entre 1916 e 2017)
            const dataNascimento = new Date(document.getElementById('dataNascimento').value);
            const anoNascimento = dataNascimento.getFullYear();
            if (anoNascimento < 1916 || anoNascimento > 2017) {
                document.getElementById('dataNascimento').classList.add('is-invalid');
                alert("A data de nascimento deve estar entre 1916 e 2017.");
                return;
            }

            // Validar data do evento (não pode ser passada)
            const dataEvento = new Date(document.getElementById('dataPrevista').value);
            const hoje = new Date();
            if (dataEvento <= hoje) {
                document.getElementById('dataPrevista').classList.add('is-invalid');
                alert("A data prevista do evento deve ser uma data futura.");
                return;
            }

            // Focar no primeiro campo inválido se houver
            if (!formularioValido && primeiroCampoInvalido) {
                primeiroCampoInvalido.focus();
                alert("Por favor, preencha todos os campos obrigatórios.");
                return;
            }

            // Se todas as validações passaram, salvar os dados
            salvar_dados();
        }

        async function salvar_dados(){
            // Coletar todos os dados
            var meu_json = {};
            meu_json.nome = document.getElementById("nome").value;
            meu_json.email = document.getElementById("email").value;
            meu_json.telefone = document.getElementById("telefone").value;
            meu_json.cpf = document.getElementById("cpf").value;
            meu_json.dataNascimento = document.getElementById("dataNascimento").value;
            meu_json.logradouro = document.getElementById("logradouro").value;
            meu_json.numero = document.getElementById("numero").value;
            meu_json.complemento = document.getElementById("complemento").value;
            meu_json.cep = document.getElementById("cep").value;
            meu_json.cidade = document.getElementById("cidade").value;
            meu_json.estado = document.getElementById("estado").value;
            meu_json.curso = document.getElementById("tipoEvento").value; // Mantendo compatibilidade com backend
            meu_json.dataPrevista = document.getElementById("dataPrevista").value;
            meu_json.observacoes = document.getElementById("observacoes").value;
            meu_json.senha = document.getElementById("senha").value;

            var url = "/Home/inserirAluno/";

            try {
                var res = await fetch(url, {
                    method: "POST",
                    headers: {"Content-type": "application/json"},
                    body: JSON.stringify(meu_json)
                });

                var json_resp = await res.json();

                if (json_resp.includes("sucesso")) {
                    alert("🎉 Cadastro realizado com sucesso! Bem-vindo ao Life Events!");
                    window.location.href = "/";
                } else {
                    alert("❌ " + json_resp);
                }
            } catch (error) {
                alert("❌ Erro ao realizar cadastro. Tente novamente.");
                console.error("Erro:", error);
            }
        }

        // Validação em tempo real da senha
        document.getElementById('confirmarSenha').addEventListener('input', function() {
            const senha = document.getElementById('senha').value;
            const confirmarSenha = this.value;

            if (confirmarSenha && senha !== confirmarSenha) {
                this.classList.add('is-invalid');
                this.classList.remove('is-valid');
            } else if (confirmarSenha) {
                this.classList.add('is-valid');
                this.classList.remove('is-invalid');
            } else {
                this.classList.remove('is-invalid', 'is-valid');
            }
        });

        // Remover classe de erro quando o usuário começar a digitar
        const campos = document.querySelectorAll('input, select');
        campos.forEach(campo => {
            campo.addEventListener('input', function() {
                if (this.value.trim()) {
                    this.classList.remove('is-invalid');
                    this.classList.add('is-valid');
                }
            });
        });

        // Inicializar máscaras quando a página carregar
        document.addEventListener('DOMContentLoaded', function() {
            aplicarMascaras();

            // Definir data mínima para data do evento (amanhã)
            const amanha = new Date();
            amanha.setDate(amanha.getDate() + 1);
            document.getElementById('dataPrevista').min = amanha.toISOString().split('T')[0];

            // Definir data mínima e máxima para data de nascimento
            document.getElementById('dataNascimento').min = "1916-01-01";
            document.getElementById('dataNascimento').max = "2017-12-31";
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>